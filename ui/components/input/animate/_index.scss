// Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
// Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license


/**
 * @summary Custom animation with label on input focus
 *
 * @name animate
 * @selector .slds-form-element__control-animated-label
 * @restrict .slds-form-element__control
 * @variant
 */

.slds-form-element__control-animated-label {
	font-size: .75rem;

	.slds-input {
	  line-height: 1.5rem;
	  min-height: calc(1.5rem + (#{$border-width-thin} * 2)); // For IE
	}
}


.slds-form-element__control.slds-form-element__control-animated-label .slds-form-element__label {
	top: 0.25rem;
	left: 0;
	position: absolute;
}

.slds-form-element__control.slds-form-element__control-animated-label input:focus ~ label,
.slds-form-element__control.slds-form-element__control-animated-label input.slds-has-value:not(:focus):valid ~ label,
.slds-form-element__control.slds-form-element__control-animated-label input.ng-dirty.ng-not-empty ~ label,
.slds-form-element__control.slds-form-element__control-animated-label input.ng-dirty.ng-not-empty + label,
.slds-form-element__control.slds-form-element__control-animated-label input[cloned='dirty'] + label,
.slds-form-element__control.slds-form-element__control-animated-label input.slds-input[cloned='dirty'] ~ label,
.slds-form-element__control.slds-form-element__control-animated-label input.slds-input.ng-dirty.ng-not-empty.ng-touched[vlc-slds-lookup-control] ~ label,
.slds-form-element__control.slds-form-element__control-animated-label input.ng-touched.ng-not-empty.td-input + label {
	-webkit-transform: translate3d(0, -1.2rem, 0);
	transform: translate3d(0, -1.2rem, 0);
	-webkit-transition-duration: 300ms;
	transition-duration: 300ms;
	z-index: 0;
	top: 0.4rem;
	left: 0;
 }

 .slds-form-element__control.slds-form-element__control-animated-label input:focus ~ label {
	color: $color-border-input-active;
 }


 .slds-form-element__control.slds-input-has-icon.slds-input-has-icon_left.slds-form-element__control-animated-label .slds-form-element__label,
 .slds-form-element__control.slds-input-has-icon.slds-input-has-icon_left-right.slds-form-element__control-animated-label .slds-form-element__label {
	left: 1.25rem;
}


.slds-form-element__control.slds-input-has-icon.slds-input-has-icon_left.slds-form-element__control-animated-label input:focus ~ label,
.slds-form-element__control.slds-input-has-icon.slds-input-has-icon_left-right.slds-form-element__control-animated-label input:focus ~ label,
.slds-form-element__control.slds-input-has-icon.slds-input-has-icon_left.slds-form-element__control-animated-label input:not(:focus):valid ~ label {
	left: 0;
}

.slds-form-element__control.slds-form-element__control-animated-label input[readonly] ~ label {
	-webkit-transform: translate3d(0, -1.2rem, 0);
	transform: translate3d(0, -1.2rem, 0);
	top: 0.4rem;
	left: 0;
}
